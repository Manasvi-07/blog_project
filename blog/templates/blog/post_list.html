{% extends 'home.html' %}

{% block title %}
  All Blog Posts
{% endblock %}

{% block content %}
  <h2>All Blog Posts</h2>

  <main>
    {% for post in posts %}
      <div class="post"></div>
    {% empty %}
      <p>No posts yet.</p>
    {% endfor %}
  </main>

  <form method="get">
    <input type="text" name="q" placeholder="Search..." value="{{ search_query }}">
    <select name="category">
      <option value="">All Categories</option>
      {% for cat in categories %}
        <option value="{{ cat.id }}" {% if cat.id|stringformat:"s" == selected_category %}selected{% endif %}>
          {{ cat.name }}
        </option>
      {% endfor %}
    </select>
    <button type="submit">Filter</button>
  </form>
{% endblock %}

